<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>MentorcliQ</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
</head>
<body>

<div class="container mt-5">
    <h2 class="text-center">MentorcliQ CSV Upload Page</h2>
    <div class="col-sm-12 col-lg-4 mr-auto ml-auto border p-4">
        <form method="post" th:action="@{/upload-csv}" enctype="multipart/form-data">
            <div class="form-group">
                <label><strong>Upload File</strong></label>
                <div class="custom-file">
                    <input type="file" name="file" class="custom-file-input form-control" id="customFile" accept=".csv">
                    <label class="custom-file-label" for="customFile">Choose file</label>
                </div>
            </div>
            <div class="form-group">
                <button type="submit" name="upload" value="upload" id="upload" class="btn btn-block btn-dark"><i
                        class="fa fa-fw fa-upload"></i> Upload
                </button>
            </div>
        </form>
    </div>
</div>

<script src='https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js'></script>
<script src='https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js'></script>
<script>
    $(document).ready(function () {
        $('input[type="file"]').on("change", function () {
            let filenames = [];
            let files = document.getElementById("customFile").files;
            if (files.length > 1) {
                filenames.push("Total Files (" + files.length + ")");
            } else {
                for (let i in files) {
                    if (files.hasOwnProperty(i)) {
                        filenames.push(files[i].name);
                    }
                }
            }
            $(this)
                .next(".custom-file-label")
                .html(filenames.join(","));
        });
    });
</script>
</body>
</html>